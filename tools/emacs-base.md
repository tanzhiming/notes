# EMACS使用

启动
```
emacs
```

暂时离开EMACS
```
Ctrl-z
```

重新回到EMACS
```
%emacs
```


关闭
```
Ctrl-x Ctrl-c
```

取消键入的指令
```
Ctrl-g
```

EMACS键入指令的方法有两种:
* Ctrl 键 （热键）
* Meta 键（没有Meta键可以用ESC键取代）

如：`Ctrl-x Ctrl-c` 和 `M-x save-buffers-kill-emacs` 表示退出EMACS

Meta键可以使用EMACS的completions，只要键入字符串的部分，其他部分可自动填入。

EMACS Completions有三种：
* TAB尽可能将其余的字串填满
* SPACE填充的字不会超过一个字
* ？将所有可能的completions选择都列出来

视窗上下移动：

`Ctrl-v`  向下翻

`Meta-v`  向下翻

进入tutorial

```
Ctrl-h t
```


移动命令
```
C-f     向右移动一个字符
C-b     向左移动一个字符

M-f     向右移动一个词【对中文是移动到下一个标点符号】
M-b     向左移动一个词【对中文是移动到上一个标点符号】

C-n     移动到下一行
C-p     移动到上一行

C-a     移动到行首
C-e     移动到行尾

M-a     移动到句首
M-e     移动到句尾

M-<     移动到所有文字开头
M->     移动到所有文字结尾
```


重复次数
```
C-u 8 C-f   向前移动8个字符
C-u 8 C-v   向下滚动8行
C-u 8 M-v   向上滚动8行
```

窗格
```
C-x 1   只保留一个窗格

```


插入与删除
```
插入文字直接敲键盘

<DEL>        删除光标前的一个字符
C-d          删除光标后的一个字符

M-<DEL>      移除光标前的一个词
M-d          移除光标后的一个词

C-k          移除从光标到“行尾”间的字符
M-k          移除从光标到“句尾”间的字符


你也可以用一通用的办法来移除缓冲区里的任何一部分：
首先把光标移动到你想要移除的区域的一端，然后按 C-<SPC>（<SPC>指空格）【注意，C-<SPC> 往往被中
文用户设定成输入法热键，如果这样，C-<SPC> 就被系统拦截而无法传递给 Emacs 了，在这种情况下可以
使用C-@。】，然后将光标移动到你准备移除的文字的另一端。这个时候， Emacs 会高亮光标和你按下
C-<SPC> 之间的文本。最后，按下 C-w 。这样就可以把位于这两点之间的所有文字移除了。
```


召回
```
C-y 召回最近一次移除的内容
M-y 可以再前一次移除的内容
```


撤销
```
C-/     
C-_
C-x u
```

文件
```
C-x C-f     寻找一个文件
C-x C-s     存储文件

```


缓存区
```
C-x C-b   列出缓冲区
C-x b TUTORIAL.cn <Return> 切换缓存区
C-x s 保存多个缓存区
```


命令集扩展

扩展命令的两种风格：
```
C-x     字符扩展。  C-x 之后输入另一个字符或者组合键。
M-x     命令名扩展。M-x 之后输入一个命令名。
```

Emacs主模式
```
M-x fundamental-mode 就可以切换到 Fundamental模式。
M-x text-mode <Return> text模式
C-h m 查看主模式文档

```

辅助模式
```
M-x auto-fill-mode <Return> 启动自动折行模

行边界通常被设定为 70 个字符【这里指英文字符】，你可以用 C-x f 命令配合数字参数来重新设定它

如果你在段落的中间做了一些修改，那么自动折行模式不会替你把整个段落重新折行，你需要用 M-q 手动折行。注意，光标必须位于你需要折行的那一段里。
```


搜索
```
C-s 是向前搜索，C-r 是向后搜索
```

多窗格
```
>> 移动光标到这一行，然后输入 C-l C-l。

>> 现在输入 C-x 2，它会将屏幕划分成两个窗格。
   这两个窗格里显示的都是本篇快速指南，而光标则停留在上方的窗格里。

>> 试试用 C-M-v 滚动下方的窗格。
   （如果你并没有 META 键，用 ESC C-v 也可以。）
   【向上滚动是 C-M-S-v，也就是同时按住 CONTROL、META 和 SHIFT 再按 v】

>> 输入 C-x o（“o”指的是“其它（other）”），
   将光标转移到下方的窗格。

>> 在下方的窗格中，用 C-v 和 M-v 来滚动。
   同时继续在上方的窗格里阅读这些指导。

>> 再输入 C-x o 将光标移回到上方的窗格里。
   光标会回到它在上方窗格中原本所在的位置。


C-x o   切换到其他窗格
>> C-x 1   只保留一个窗格   


用下面的方法可以在一个新开窗格里打开文件：

>> 输入 C-x 4 C-f，紧跟着输入一个文件名，再用 <Return> 结束。
   可以看到你指定的文件出现在下方的窗格中，同时光标也跳到了那里。

>> 输入 C-x o 回到上方的窗格，然后再用 C-x 1 关掉下方窗格。
```


多窗口
```
>> 输入 M-x make-frame <Return>。
 可以看到一个新的窗口出现在了你的屏幕上。

你可以在新的窗口里做最初的窗口里可以做的任何事情。第一个窗口没有什么特
别的。

>> 输入 M-x delete-frame <Return>.
 这个命令将会关闭选中的窗口。
```


